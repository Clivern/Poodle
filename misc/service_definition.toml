# API Service Definition Example

[Main]
    id = "clivern_poodle"
    name = "clivern - poodle"
    description = ""
    timeout = "30s"
    service_url = "https://example.com/api/v1"
    # These headers will be applied to all endpoints http calls
    headers = [ ["Content-Type", "application/json"] ]

[Security]
    # Supported Types are basic, bearer and api_key and none
    scheme = "none"

    [Security.Basic]
        username = ""
        password = ""
        header = ["Authorization", "base64({$username}:{$password})"]

    [Security.ApiKey]
        header = ["X-API-KEY", "{$apikey:default}"]

    [Security.Bearer]
        header = ["Authorization", "Bearer {$token}"]

[[Endpoint]]
    id = "CreateItem"
    name = "Create an item"
    description = ""
    method = "post"
    headers = []
    parameters = []
    uri = "/item"
    body = """
    {
        "name": "{$name}",
        "type": "{$type:default}"
    }
    """

[[Endpoint]]
    id = "GetItems"
    name = "Get a list of items"
    description = ""
    method = "get"
    headers = []
    parameters = [ ["limit", "{$limit:100}"], ["offset", "{$offset:0}"] ]
    uri = "/item"
    body = ""

[[Endpoint]]
    id = "GetItem"
    name = "Get an item"
    description = ""
    method = "get"
    headers = []
    parameters = []
    uri = "/item/{$id}"
    body = ""

[[Endpoint]]
    id = "DeleteItem"
    name = "Delete an item"
    description = ""
    method = "delete"
    headers = []
    parameters = []
    uri = "/item/{$id}"
    body = ""

[[Endpoint]]
    id = "UpdateItem"
    name = "Update an item"
    description = ""
    method = "put"
    headers = []
    parameters = []
    uri = "/item/{$id}"
    body = """
    {
        "name": "{$name}",
        "type": "{$type:default}"
    }
    """